{"version":3,"sources":["page/Home/SortPannel/style.module.css","page/Edit/style.module.css","page/Home/style.module.css","page/Home/SortPannel/SortPannel.js","utils/util.js","page/Home/Home.js","page/Article/Article.js","utils/storage.js","store/notes.js","store/models.js","store/user.js","store/index.js","page/Edit/Edit.js","App.js","index.js","page/Article/style.module.css"],"names":["module","exports","selectedSortTypeIndex","sortTypes","onSelect","isOpen","className","style","sortPannelContainer","sortPannelOpen","sortPannelClose","map","item","index","key","text","sortPannelItem","sortPannelItemSelected","onClick","chars","split","getRandomId","len","radix","lengt","uuid","i","Math","random","join","innerCovers","getRandomCover","floor","length","MonthMap","getFormtedDate","date","month","getMonth","monStr","toUpperCase","getDate","getFullYear","sortFn","a","b","updated_at","created_at","title","connect","state","props","user","notes","list","useState","setSortTypeIndex","isOpenSort","setOpenSort","history","useHistory","topbar","src","avatar","alt","name","userName","userGreet","listContainer","listContainerTitle","listContainerName","listContainerSpandIcon","listContainerSpandIconActive","SortPannel","sort","listItem","_id","listItemInner","to","listItemCover","cover","listItemMain","listItemTime","Date","listItemTitle","listItemPlaceholder","listItemSummay","summary","listTipsEmpty","newBtn","push","newBtnIcon","articleId","useParams","id","articleData","searchMap","backgroundImage","topbarMask","goBack","topbarBackIcon","topbarEditIcon","last_edited_content","draftTip","articleContainer","time","splitLine","article","dangerouslySetInnerHTML","__html","content","data","localStorage","setItem","JSON","stringify","initList","savedData","getItem","undefined","parse","error","storage","now","status","generateSearchMapFromList","result","forEach","reducers","addNote","payload","editNote","slice","setSearchMap","effects","dispatch","submit","refreshSearchMap","saveToLs","rootState","console","log","store","init","models","editor","setEditor","setTitle","routeParams","articleToEdit","useEffect","newEditor","Quill","modules","toolbar","header","theme","root","innerHTML","editorContainer","titleInputContainer","titleInput","onChange","e","currentTarget","value","placeholder","contentInput","iconDone","document","querySelector","getText","process","ReactDOM","render","basename","path","getElementById"],"mappings":"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","file":"static/js/main.26ee7848.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sortPannelContainer\":\"style_sortPannelContainer__1Jp_Z\",\"sortPannelItem\":\"style_sortPannelItem__3Sq_K\",\"sortPannelItemSelected\":\"style_sortPannelItemSelected__1ILPm\",\"sortPannelOpen\":\"style_sortPannelOpen__1lXAY\",\"sortPannelClose\":\"style_sortPannelClose__1Fews\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyExtraStyle\":\"style_bodyExtraStyle__1iqA6\",\"editorContainer\":\"style_editorContainer__3uFRH\",\"editorBar\":\"style_editorBar__1sNuQ\",\"editorBarButton\":\"style_editorBarButton__3A2vo\",\"editorBarButtonSelcted\":\"style_editorBarButtonSelcted__3cz3a\",\"titleInputContainer\":\"style_titleInputContainer__3AkwD\",\"titleInput\":\"style_titleInput__1z1EM\",\"contentInput\":\"style_contentInput__3EVLe\",\"pannelContainer\":\"style_pannelContainer__14E6a\",\"pannelFontSize\":\"style_pannelFontSize__rV5yo\",\"pannelFontSizeItem\":\"style_pannelFontSizeItem__j4DJc\",\"pannelFontSizeItemSelected\":\"style_pannelFontSizeItemSelected__2Uoqe\",\"iconDone\":\"style_iconDone__rZTDE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topbar\":\"style_topbar__yMW3F\",\"iconBack\":\"style_iconBack__2nDaI\",\"avatar\":\"style_avatar__fHu3i\",\"userName\":\"style_userName__1vvmd\",\"userGreet\":\"style_userGreet__37u6P\",\"listContainer\":\"style_listContainer__3hpa-\",\"listContainerTitle\":\"style_listContainerTitle__2PDVz\",\"listContainerSpandIcon\":\"style_listContainerSpandIcon__2dawL\",\"listContainerSpandIconActive\":\"style_listContainerSpandIconActive__2MM07\",\"listContainerName\":\"style_listContainerName__3irvH\",\"listItem\":\"style_listItem__3BErP\",\"listItemInner\":\"style_listItemInner__15r3R\",\"listItemCover\":\"style_listItemCover__Xa8Gm\",\"listItemMain\":\"style_listItemMain__2Imsk\",\"listItemTime\":\"style_listItemTime__2Yicc\",\"listItemTitle\":\"style_listItemTitle__3-y1P\",\"listItemSummay\":\"style_listItemSummay__3f6mL\",\"listItemPlaceholder\":\"style_listItemPlaceholder__1q7yb\",\"listTipsEmpty\":\"style_listTipsEmpty__1UPzA\",\"newBtn\":\"style_newBtn__2XlSv\",\"newBtnIcon\":\"style_newBtnIcon__3Curo\"};","import React from 'react';\n\nimport style from './style.module.css';\n\nexport default ({\n  selectedSortTypeIndex = 0,\n  sortTypes = [],\n  onSelect = () => {},\n  isOpen = false\n}) => {\n  return (\n    <ul className={`${style.sortPannelContainer} ${isOpen ? style.sortPannelOpen : style.sortPannelClose}`}>\n      {\n        sortTypes.map((item, index) => (\n          <li\n            key={item.text}\n            className={`${style.sortPannelItem} ${index === selectedSortTypeIndex ? style.sortPannelItemSelected : ''}`}\n            onClick={() => onSelect(index)}\n          >{item.text}</li>\n        ))\n      }\n    </ul>\n  );\n};\n","const chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\nexport const getRandomId = (len, radix = chars.lengt) => {\n  const uuid = [];\n\n  for (let i = 0; i < len; i++) uuid[i] = chars[0 | Math.random() * radix];\n  return uuid.join('');\n}\n\nexport const innerCovers = [\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970067979/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970068193/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970068312/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970068266/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970069346/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970083300/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970083358/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970083279/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970083371/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970083563/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970095496/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970095574/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1440788960_1570970095609/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970095623/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970095728/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1440788960_1570970110018/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1440788960_1570970110000/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970110039/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970110270/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970110396/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970121675/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970121803/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970122711/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970121779/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970121998/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1271937727_1570970132903/0\",\n  \"https://puui.qpic.cn/fans_admin/0/3_1409075683_1570970133088/0\",\n];\n\nexport const getRandomCover = () => innerCovers[Math.floor(Math.random() * innerCovers.length)];\n\nexport const getFirstNote = () => {\n  return {\n    _id: getRandomId(32, 16),\n    created_at: Date.now(),\n    updated_at: Date.now(),\n    title: '欢迎使用 Reditor 记事本', // 标题\n    content: '', // 富文本\n    summary: '', // 根据 content 生成，纯文字\n    cover: getRandomCover(), // 创建时从封面库随机取\n    status: 1, // 0 - 回收站；1 - 正常；2 - 草稿；\n    last_edited_content: '', // 暂未发布的修改内容；\n  };\n}\n\nconst MonthMap = [ 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];\n\nexport const getFormtedDate = (date) => {\n  const month = date.getMonth();\n  const monStr = (MonthMap[month]).toUpperCase();\n  return `${monStr} ${date.getDate()}, ${date.getFullYear()}`;\n};\n","import React, { useState } from 'react';\n\nimport { connect } from 'react-redux';\n\n// import { dispatch } from '../../store';\n\nimport { Link, useHistory } from 'react-router-dom';\n\nimport style from './style.module.css';\n\nimport SortPannel from './SortPannel/SortPannel';\n\nimport { getFormtedDate } from '../../utils/util';\n\nconst sortTypes = [\n  { text: '最近更新', sortFn: (a, b) => b.updated_at - a.updated_at},\n  { text: '最近创建', sortFn: (a, b) => b.created_at - a.created_at},\n  { text: '文件名(A-Z)', sortFn: (a, b) => b.title > a.title ? -1 : 1},\n  { text: '文件名(Z-A)', sortFn: (a, b) => b.title > a.title ? 1 : -1},\n  { text: '最早更新', sortFn: (a, b) => a.updated_at - b.updated_at},\n  { text: '最早创建', sortFn: (a, b) => a.created_at - b.created_at},\n];\n\nconst Home = (props = {}) => {\n  const { user = {}, notes = {} } = props;\n  const { list } = notes;\n  const [ selectedSortTypeIndex, setSortTypeIndex ] = useState(0);\n  const [ isOpenSort, setOpenSort ] = useState(false);\n\n  const history = useHistory();\n  const { sortFn } = (sortTypes[selectedSortTypeIndex] || sortTypes[0]);\n\n  return (\n    <div>\n      <div className={style.topbar}>\n        <img src={user.avatar} className={style.avatar} alt={user.name} />\n      </div>\n      <p className={style.userName}>Hello, {user.name}</p>\n      <p className={style.userGreet}>welcome to reditor</p>\n      <div className={style.listContainer}>\n        <div className={style.listContainerTitle}>\n          <p className={style.listContainerName}>Notes</p>\n          <i\n            className={`iconfont icon-zhankai ${style.listContainerSpandIcon} ${isOpenSort ? style.listContainerSpandIconActive : ''}`}\n            onClick={() => setOpenSort(!isOpenSort)}\n          />\n        </div>\n        {/* 排序 */}\n        <SortPannel\n          sortTypes={sortTypes}\n          selectedSortTypeIndex={selectedSortTypeIndex}\n          onSelect={i => setSortTypeIndex(i)}\n          isOpen={isOpenSort}\n        />\n        {\n          list && list.length ? list.sort(sortFn).map(i => (\n            <div className={style.listItem} key={i._id} >\n              <Link className={style.listItemInner} to={`/article/${i._id}`}>\n                <img className={style.listItemCover} src={i.cover} alt={i.title} />\n                <div className={style.listItemMain}>\n                  <p className={style.listItemTime}>{getFormtedDate(new Date(i.created_at))}</p>\n                  <p className={style.listItemTitle}>{i.title}</p>\n                  <div className={style.listItemPlaceholder} />\n                  <p className={style.listItemSummay}>{i.summary}</p>\n                </div>\n              </Link>\n            </div>\n          )) : null\n        }\n        {\n          !list || !list.length ? (\n            <p className={style.listTipsEmpty}>暂时没有记录哦~</p>\n          ) : null\n        }\n      </div>\n      <div className={style.newBtn} onClick={() => history.push('/edit')}>\n        <i className={`iconfont icon-plus-creat ${style.newBtnIcon}`} />\n      </div>\n    </div>\n  );\n};\n\nconst mapState = state => ({\n  ...state,\n});\n\nexport default connect(mapState)(Home);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport style from './style.module.css';\n\nimport { getFormtedDate } from '../../utils/util';\n\nconst Article = (props) => {\n  const history = useHistory();\n  const routeParams = useParams();\n  const articleId = routeParams.id;\n  const { list, searchMap } = props.notes || {};\n  const articleIndex = searchMap[articleId];\n  const articleData = list[articleIndex];\n\n  return (\n    <div>\n      <header className={style.topbar} style={{ backgroundImage: `url(${articleData.cover})` }}>\n        <div className={style.topbarMask} />\n        <i \n          onClick={() => history.goBack()}\n          className={`iconfont icon-jiantou-px ${style.topbarBackIcon}`}\n        />\n        <span \n          onClick={() => history.push(`/edit/${articleData._id}`)}\n          className={style.topbarEditIcon}\n        >\n          EDIT\n        </span>\n      </header>\n      {\n        articleData.last_edited_content ? (\n          <div className={style.draftTip}>该笔记有暂未发布的草稿，点击编辑继续创作~</div>\n        ) : null\n      }\n      <div className={style.articleContainer}>\n        <h1 className={style.title}>{articleData.title}</h1>\n        <p className={style.time}>{getFormtedDate(new Date(articleData.created_at))}</p>\n        <div className={style.splitLine}></div>\n        <article className={style.article} dangerouslySetInnerHTML={{ __html: articleData.content }}></article>\n      </div>\n    </div>\n  );\n};\n\n\nconst mapState = state => ({\n  ...state,\n});\n\nexport default connect(mapState)(Article);\n","export default {\n  setItem(key, data) {\n    localStorage.setItem(key, JSON.stringify(data));\n  },\n  getItem(key) {\n    let savedData = localStorage.getItem(key);\n    if (savedData !== null && savedData !== undefined) {\n      try {\n        savedData = JSON.parse(savedData);\n      } catch (error) {}\n    }\n    return savedData;\n  }\n}","import { getRandomId, getRandomCover, getFirstNote } from '../utils/util';\nimport storage from '../utils/storage';\n\nconst LS_KEY_NOTES = 'LS_KEY_NOTES';\nconst cacheList = storage.getItem(LS_KEY_NOTES);\n\nconst initList = cacheList || [ getFirstNote() ];\n\n// 生成 id => index 的映射，便于根据 id 查找对应的 item 数据\nconst generateSearchMapFromList = (list) => {\n  const result = {};\n  list.forEach((item, index) => {\n    result[item._id] = index;\n  });\n  return result;\n};\n\nstorage.setItem(LS_KEY_NOTES, initList);\n\nexport default {\n  state: {\n    list: initList,\n    searchMap: generateSearchMapFromList(initList),\n  },\n  reducers: {\n    addNote(state, payload) {\n      return {\n        ...state,\n        list: [\n          ...state.list,\n          payload,\n        ],\n      }\n    },\n    editNote(state, payload) {\n      const index = state.searchMap[payload._id];\n      const nextState = {\n        ...state,\n        list: [\n          ...state.list.slice(0, index),\n          payload,\n          ...state.list.slice(index + 1),\n        ],\n      };\n      return nextState;\n    },\n    setSearchMap(state, payload = {}) {\n      return {\n        ...state,\n        searchMap: payload,\n      };\n    }\n  },\n  effects: (dispatch) => ({\n    submit(payload) {\n      const { title = '无标题', content = '', summary = '' } = payload;\n      if (payload._id) {\n        // 编辑旧笔记, id/created_at/cover 不用再次生成\n        dispatch.notes.editNote({\n          ...payload,\n          updated_at: Date.now(),\n          title,\n          content,\n          summary: summary,\n          status: 1,\n          last_edited_content: '',\n        });\n      } else {\n        // 新增\n        dispatch.notes.addNote({\n          _id: getRandomId(32, 16),\n          created_at: Date.now(),\n          updated_at: Date.now(),\n          title,\n          content,\n          summary: summary,\n          cover: getRandomCover(),\n          status: 1,\n          last_edited_content: '',\n        });\n      }\n\n      dispatch.notes.refreshSearchMap();\n      dispatch.notes.saveToLs();\n    },\n    refreshSearchMap(payload, rootState) {\n      const searchMap = generateSearchMapFromList(rootState.notes.list);\n      console.log(searchMap);\n      dispatch.notes.setSearchMap(searchMap);\n    },\n    saveToLs(payload, rootState) {\n      storage.setItem(LS_KEY_NOTES, rootState.notes.list);\n    }\n  })\n}\n","import _notes from './notes';\nimport _user from './user';\n\nexport const notes = _notes;\nexport const user = _user;\n","export default {\n  state: {\n    name: 'Green',\n    avatar: 'https://puui.qpic.cn/fans_admin/0/3_1574395846_1570799849120/0',\n  },\n  reducers: {\n  },\n  effects: (dispatch) => ({\n  })\n};\n","import { init } from '@rematch/core';\nimport * as models from './models';\n\nconst store = init({\n  models,\n});\n\nexport const { dispatch } = store\n\nexport default store;\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { dispatch } from '../../store';\n\nimport Quill from 'quill';\n\nimport 'quill/dist/quill.snow.css';\n\nimport style from './style.module.css';\n\nconst Edit = (props) => {\n  const [editor, setEditor] = useState(null);\n  const [title, setTitle] = useState('');\n  const history = useHistory();\n  const routeParams = useParams();\n  let articleToEdit = null;\n\n  if (routeParams.id) {\n    const { list, searchMap } = props.notes || {};\n    const articleIndex = searchMap[routeParams.id];\n    const articleData = list[articleIndex];\n    articleToEdit = articleData;\n  }\n\n  useEffect(() => {\n    if (!editor) {\n      const newEditor = new Quill('#editor', {\n        modules: {\n          toolbar: [\n            [{ header: [1, 2, 3, 4, 5, false] }],\n            [{ 'color': [] }, { 'background': [] }],  \n            ['bold', 'italic', 'underline', 'strike', 'align'],\n          ]\n        },\n        theme: 'snow'\n      });\n      setEditor(newEditor);\n      if (articleToEdit) {\n        if (!title) setTitle(articleToEdit.title);\n        newEditor.root.innerHTML = articleToEdit.content;\n      }\n    }\n  }, [editor, articleToEdit, title]);\n\n  const submit = () => {\n    const el = document.querySelector('.ql-editor');\n    const content = el.innerHTML;\n    const text = editor.getText() || '';\n    dispatch.notes.submit({\n      ...(articleToEdit || {}),\n      title: title || '无标题',\n      content: content || '',\n      summary: text.slice(0, 30),\n    });\n\n    history.push('/');\n  };\n\n  return (\n    <div className={style.editorContainer}>\n      {/* 标题输入框 */}\n      <div className={style.titleInputContainer}>\n        <input\n          className={style.titleInput}\n          onChange={(e) => setTitle(e.currentTarget.value)}\n          value={title}\n          placeholder={'点此设置标题'}\n        />\n      </div>\n      {/* 编辑器 */}\n      <div\n         className={style.contentInput}\n        id=\"editor\"\n      >\n      </div>\n      <div className={style.iconDone} onClick={() => submit()}>\n        <i className=\"iconfont icon-jurassic_complete\" />\n      </div>\n    </div>\n  );\n}\n\nconst mapState = (state) => ({ ...state });\n\nexport default connect(mapState)(Edit);\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from 'react-router-dom';\n\nimport Home from './page/Home/Home';\nimport Article from './page/Article/Article';\nimport Edit from './page/Edit/Edit';\n\nconsole.log(process.env);\n\nexport default function App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route path=\"/article/:id\">\n          <Article />\n        </Route>\n        <Route path=\"/edit/:id?\">\n          <Edit />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { Provider } from 'react-redux'\n\nimport store from './store';\n\nReactDOM.render((\n  <Provider store={store}>\n    <App />\n  </Provider>\n), document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topbar\":\"style_topbar__2ls54\",\"topbarMask\":\"style_topbarMask__2e_vC\",\"topbarBackIcon\":\"style_topbarBackIcon__gzBlo\",\"topbarEditIcon\":\"style_topbarEditIcon__3Wo3s\",\"draftTip\":\"style_draftTip__3eO0F\",\"articleContainer\":\"style_articleContainer__2CpH7\",\"title\":\"style_title__2sp66\",\"time\":\"style_time__1b4w2\",\"splitLine\":\"style_splitLine__2v8tP\",\"article\":\"style_article__2DT5X\"};"],"sourceRoot":""}